<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Valentine's Day Verification</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0) rotate(0deg);
      }
      50% {
        transform: translateY(-30px) rotate(10deg);
      }
    }
    
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: scale(0.9);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    
    @keyframes heartBeat {
      0%, 100% {
        transform: scale(1);
      }
      10%, 30% {
        transform: scale(1.1);
      }
      20%, 40% {
        transform: scale(1);
      }
    }
    
    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }
    
    .animate-float {
      animation: float ease-in-out infinite;
    }
    
    .animate-fadeIn {
      animation: fadeIn 0.8s ease-out forwards;
    }
    
    .animate-heartBeat {
      animation: heartBeat 1.5s ease-in-out infinite;
    }
    
    .animate-pulse {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    .captcha-page {
      min-height: 100vh;
      background-color: #f3f4f6;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }

    .captcha-container {
      background-color: #ffffff;
      border-radius: 0.5rem;
      box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
      max-width: 42rem;
      width: 100%;
      border: 2px solid #d1d5db;
      overflow: hidden;
    }

    .captcha-header {
      background-color: #3b82f6;
      color: white;
      padding: 1rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .check-box {
      width: 2rem;
      height: 2rem;
      background-color: white;
      border-radius: 0.25rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .captcha-content {
      padding: 1.5rem;
    }

    .instruction-box {
      margin-bottom: 1rem;
      text-align: center;
    }

    .instruction-inner {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background-color: #eff6ff;
      border: 2px solid #bfdbfe;
      border-radius: 0.5rem;
      padding: 0.5rem 1rem;
    }

    .image-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 0.5rem;
      margin-bottom: 1.5rem;
      background-color: #e5e7eb;
      padding: 0.5rem;
      border-radius: 0.25rem;
    }

    .image-grid-item {
      aspect-ratio: 1 / 1;
      background: linear-gradient(to bottom right, #f9a8d4, #f472b6);
      border-radius: 0.25rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 150ms;
      cursor: pointer;
      position: relative;
      border: none;
    }

    .image-grid-item:hover {
      transform: scale(1.05);
    }

    .image-grid-item.selected {
      box-shadow: 0 0 0 4px #3b82f6;
      transform: scale(0.95);
    }

    .image-overlay {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background-color: rgba(59, 130, 246, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 0.25rem;
    }

    .image-content {
      position: relative;
      z-index: 10;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .emoji-large {
      font-size: 3rem;
      margin-bottom: 0.25rem;
    }

    .label-tag {
      font-size: 0.75rem;
      color: #9f1239;
      font-weight: 600;
      background-color: rgba(255, 255, 255, 0.7);
      padding: 0.25rem 0.5rem;
      border-radius: 0.25rem;
    }

    .hint-box {
      background-color: #f9fafb;
      border: 1px solid #d1d5db;
      border-radius: 0.25rem;
      padding: 0.75rem;
      margin-bottom: 1rem;
      font-size: 0.875rem;
      color: #4b5563;
    }

    .action-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .checkbox-label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .checkbox-icon {
      width: 1.5rem;
      height: 1.5rem;
      background-color: white;
      border: 2px solid #9ca3af;
      border-radius: 0.25rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .verify-button {
      padding: 0.5rem 1.5rem;
      border-radius: 0.25rem;
      font-weight: 600;
      transition: all 150ms;
      border: none;
      cursor: pointer;
    }

    .verify-button:not(:disabled) {
      background-color: #3b82f6;
      color: white;
    }

    .verify-button:not(:disabled):hover {
      background-color: #2563eb;
    }

    .verify-button:not(:disabled):active {
      transform: scale(0.95);
    }

    .verify-button:disabled {
      background-color: #d1d5db;
      color: #6b7280;
      cursor: not-allowed;
    }

    .checking-message {
      margin-top: 1rem;
      text-align: center;
      color: #16a34a;
      font-weight: 600;
    }

    .captcha-footer {
      background-color: #f9fafb;
      border-top: 1px solid #d1d5db;
      padding: 0.75rem 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 0.75rem;
      color: #6b7280;
    }

    .footer-left {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .footer-right {
      display: flex;
      gap: 0.75rem;
    }

    .footer-link {
      color: #2563eb;
      background: none;
      border: none;
      cursor: pointer;
      padding: 0;
    }

    .footer-link:hover {
      text-decoration: underline;
    }

    .success-page {
      min-height: 100vh;
      background: linear-gradient(to bottom right, #fbcfe8, #fecaca, #fbcfe8);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      overflow: hidden;
      position: relative;
    }

    .floating-hearts {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      overflow: hidden;
      pointer-events: none;
    }

    .success-content {
      position: relative;
      z-index: 10;
      text-align: center;
    }

    .success-card {
      background-color: white;
      border-radius: 1.5rem;
      box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
      padding: 3rem;
      max-width: 42rem;
      border: 4px solid #f472b6;
    }

    .success-heart {
      width: 6rem;
      height: 6rem;
      color: #ef4444;
      fill: currentColor;
      margin: 0 auto 1.5rem;
    }

    .success-message-box {
      background-color: #fdf2f8;
      border-radius: 1rem;
      padding: 2rem;
      border: 2px solid #fbcfe8;
      margin-bottom: 1.5rem;
    }

    .emoji-row {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.5rem;
      font-size: 2.25rem;
    }

    .h1-correct {
      font-size: 3.75rem;
      font-weight: 700;
      color: #db2777;
      margin-bottom: 1rem;
    }

    .h2-valentine {
      font-size: 3rem;
      font-weight: 700;
      color: #ef4444;
      margin-bottom: 1.5rem;
    }

    .text-passed {
      font-size: 1.5rem;
      color: #1f2937;
      line-height: 1.625;
      margin-bottom: 1rem;
    }

    .text-perfect {
      font-size: 1.25rem;
      color: #374151;
      line-height: 1.625;
    }

    .love-message {
      font-size: 1.125rem;
      color: #db2777;
      margin-top: 2rem;
      font-weight: 600;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    const Heart = ({ className, style }) => (
      <svg className={className} style={style} viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2">
        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
      </svg>
    );

    const Check = ({ className, style }) => (
      <svg className={className} style={style} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <polyline points="20 6 9 17 4 12"></polyline>
      </svg>
    );

    function ValentinesCaptcha() {
      const [selectedImages, setSelectedImages] = useState(new Set());
      const [submitted, setSubmitted] = useState(false);
      const [showSuccess, setShowSuccess] = useState(false);
      const [robotChecked, setRobotChecked] = useState(false);

      const images = [
        { id: 1, imageUrl: './images/1.jpg' },
        { id: 2, imageUrl: './images/2.jpg' },
        { id: 3, imageUrl: './images/3.jpg' },
        { id: 4, imageUrl: './images/4.jpg' },
        { id: 5, imageUrl: './images/5.jpg' },
        { id: 6, imageUrl: './images/6.jpg' },
        { id: 7, imageUrl: './images/7.jpg' },
        { id: 8, imageUrl: './images/8.jpg' },
        { id: 9, imageUrl: './images/9.jpg' },
      ];

      const toggleImage = (id) => {
        const newSelected = new Set(selectedImages);
        if (newSelected.has(id)) {
          newSelected.delete(id);
        } else {
          newSelected.add(id);
        }
        setSelectedImages(newSelected);
      };

      const handleVerify = () => {
        setSubmitted(true);
        setTimeout(() => {
          setShowSuccess(true);
        }, 800);
      };

      if (showSuccess) {
        return (
          <div className="success-page">
            <div className="floating-hearts">
              {[...Array(20)].map((_, i) => (
                <Heart
                  key={i}
                  className="animate-float"
                  style={{
                    position: 'absolute',
                    left: `${Math.random() * 100}%`,
                    top: `${Math.random() * 100}%`,
                    animationDelay: `${Math.random() * 3}s`,
                    animationDuration: `${3 + Math.random() * 2}s`,
                    width: `${20 + Math.random() * 20}px`,
                    height: `${20 + Math.random() * 20}px`,
                    color: '#f472b6',
                    fill: 'currentColor',
                    opacity: 0.6
                  }}
                />
              ))}
            </div>

            <div className="success-content animate-fadeIn">
              <div className="success-card">
                <Heart className="success-heart animate-heartBeat" />
                
                <h1 className="h1-correct">
                  Correct! ‚úì
                </h1>
                
                <h2 className="h2-valentine">
                  Happy Valentine's Day Yashu!
                </h2>
                
                <div className="success-message-box">
                  <p className="text-passed">
                    You passed the test! üíï
                  </p>
                  <p className="text-perfect">
                    Every picture is perfect when it's you. You're my Valentine today and every day.
                  </p>
                </div>

                <div className="emoji-row">
                  {['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíù', 'üíò', 'üíû'].map((emoji, i) => (
                    <span
                      key={i}
                      style={{
                        display: 'inline-block',
                        animation: `heartBeat 1.5s ease-in-out infinite`,
                        animationDelay: `${i * 0.2}s`
                      }}
                    >
                      {emoji}
                    </span>
                  ))}
                </div>

                <p className="love-message">
                  I love you! üíù
                </p>
              </div>
            </div>
          </div>
        );
      }

      return (
        <div className="captcha-page">
          <div className="captcha-container">
            <div className="captcha-header">
              <div className="check-box">
                <Check style={{ width: '1.25rem', height: '1.25rem', color: '#3b82f6' }} />
              </div>
              <div>
                <div style={{ fontWeight: 600, fontSize: '1.125rem' }}>Please verify you're not a robot</div>
                <div style={{ fontSize: '0.875rem', color: '#dbeafe' }}>Select all squares with your Valentine</div>
              </div>
            </div>

            <div className="captcha-content">
              <div className="instruction-box">
                <div className="instruction-inner">
                  <span style={{ fontSize: '1.125rem', fontWeight: 600, color: '#1f2937' }}>
                    Select all squares with
                  </span>
                  <span style={{ fontSize: '1.125rem', fontWeight: 700, color: '#db2777' }}>
                    your Valentine
                  </span>
                </div>
                <p style={{ fontSize: '0.875rem', color: '#6b7280', marginTop: '0.5rem' }}>
                  Click verify once there are none left.
                </p>
              </div>

              <div className="image-grid">
                {images.map((img) => (
                  <button
                    key={img.id}
                    onClick={() => toggleImage(img.id)}
                    className={`image-grid-item ${selectedImages.has(img.id) ? 'selected' : ''}`}
                  >
                    {selectedImages.has(img.id) && (
                      <div className="image-overlay">
                        <Check style={{ width: '3rem', height: '3rem', strokeWidth: 3, color: 'white' }} />
                      </div>
                    )}
                    <img 
                      src={img.imageUrl} 
                      alt="You!"
                      style={{
                        width: '100%',
                        height: '100%',
                        objectFit: 'cover',
                        borderRadius: '0.25rem'
                      }}
                    />
                  </button>
                ))}
              </div>

              <div className="action-row">
                <button 
                  onClick={() => setRobotChecked(!robotChecked)}
                  className="checkbox-label"
                  style={{ background: 'none', border: 'none', cursor: 'pointer' }}
                >
                  <div className="checkbox-icon" style={{ backgroundColor: robotChecked ? '#3b82f6' : 'white' }}>
                    {robotChecked && <Check style={{ width: '1rem', height: '1rem', color: 'white' }} />}
                    {!robotChecked && <Check style={{ width: '1rem', height: '1rem', color: '#9ca3af' }} />}
                  </div>
                  <span style={{ fontSize: '0.875rem', color: '#4b5563' }}>I'm not a robot</span>
                </button>
                
                <button
                  onClick={handleVerify}
                  disabled={selectedImages.size !== 9 || !robotChecked}
                  className="verify-button"
                >
                  Verify
                </button>
              </div>

              {submitted && selectedImages.size === 9 && (
                <div className="checking-message animate-pulse">
                  Checking your answer... üíù
                </div>
              )}
            </div>

            <div className="captcha-footer">
              <div className="footer-left">
                <Heart style={{ width: '1rem', height: '1rem', color: '#ec4899', fill: 'currentColor' }} />
                <span>Valentine CAPTCHA v1.0</span>
              </div>
              <div className="footer-right">
                <button className="footer-link">Privacy</button>
                <button className="footer-link">Terms</button>
              </div>
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.render(<ValentinesCaptcha />, document.getElementById('root'));
  </script>
</body>
</html>
